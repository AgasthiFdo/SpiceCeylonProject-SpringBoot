<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Upload</title>
</head>
<body>
<h2>Upload Images</h2>
<form id="uploadForm">
  <input type="file" id="fileInput" name="files" multiple>
  <button type="submit">Upload</button>
</form>

<div id="response"></div>

<script>
  const form = document.getElementById("uploadForm");
  const responseDiv = document.getElementById("response");

  form.addEventListener("submit", async (event) => {
    event.preventDefault();

    const files = document.getElementById("fileInput").files;
    if (files.length === 0) {
      responseDiv.innerText = "Please select at least one file.";
      return;
    }

    const formData = new FormData();
    for (let i = 0; i < files.length; i++) {
      formData.append("files", files[i]);
    }

    try {
      const res = await fetch("http://localhost:8080/api/v1/img/upload", {
        method: "POST",
        body: formData
      });

      if (res.ok) {
        responseDiv.innerText = "Upload successful!";
      } else {
        responseDiv.innerText = "Upload failed: " + res.statusText;
      }
    } catch (error) {
      responseDiv.innerText = "Error: " + error.message;
    }
  });
</script>
</body>
</html>
